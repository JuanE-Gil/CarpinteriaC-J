---
import data from '../../data/customersData.json';
import Layout from '@/src/layouts/Layout.astro';

const { id } = Astro.params;

const client = data.find((client) => client.id === parseInt(id ?? "0", 10));
---

<Layout title="Editar Cliente">
  <main class="flex items-center justify-center min-h-screen">
    <div class="bg-slate-50/50 px-10 py-8 w-full max-w-lg space-y-6 shadow-md rounded-lg">
      <h1 class="text-xl font-semibold text-gray-700 mb-4">Editar Cliente</h1>
      {client ? (
        <form action="" method="POST" class="space-y-6">
          <label class="block">
            <span class="text-gray-700">Nombre</span>
            <input
              type="text"
              name="nombre"
              value={client.nombre}
              placeholder="Juan Pérez"
              class="block w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500"
              required
            />
          </label>

          <label class="block">
            <span class="text-gray-700">Dirección</span>
            <input
              type="text"
              name="direccion"
              value={client.direccion}
              placeholder="Av. Siempre Viva 742"
              class="block w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500"
              required
            />
          </label>

          <label class="block">
            <span class="text-gray-700">Teléfono</span>
            <input
              type="tel"
              name="num_telefono"
              value={client.num_telefono}
              placeholder="123-456-7890"
              class="block w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500"
              required
            />
          </label>

          <label class="block">
            <span class="text-gray-700">Email</span>
            <input
              type="email"
              name="email"
              value={client.email}
              placeholder="you@example.com"
              class="block w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500"
              required
            />
          </label>

          <label class="block">
            <span class="text-gray-700">DNI/RUC</span>
            <input
              type="text"
              name="dni_ruc"
              value={client.dni_ruc}
              placeholder="1234567890"
              class="block w-full mt-1 px-3 py-2 border border-gray-300 rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500"
              required
            />
          </label>

          <div class="flex justify-between">
            <button
              type="button"
              onclick="window.location.href='/clientes'"
              class="w-full bg-red-500 text-white py-2 px-4 rounded-lg shadow-md hover:bg-red-600"
            >
              Cancelar
            </button>
            <button
              type="submit"
              class="w-full bg-blue-500 text-white py-2 px-4 rounded-lg shadow-md hover:bg-blue-600"
            >
              Guardar Cambios
            </button>
          </div>
        </form>
      ) : (
        <p class="text-gray-700">Cliente no encontrado.</p>
      )}
    </div>
  </main>
</Layout>

<style>
  main {
    font-size: 16px;
    color: #333;
  }
</style>
